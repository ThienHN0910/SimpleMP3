<Page x:Class="SimpleMP3.Views.HomePage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Background="#191414">
    <Grid>
        <!-- Sidebar -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="180"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Sidebar Navigation -->
        <StackPanel Grid.Column="0" Background="#121212" VerticalAlignment="Stretch">
            <TextBlock Text="SimpleMP3" Foreground="#1DB954" FontWeight="Bold" FontSize="22" Margin="20,30,0,40"/>
            <Button Content="Trang chủ" Style="{StaticResource {x:Static ToolBar.ButtonStyleKey}}" 
                    Foreground="White" Background="Transparent" FontSize="16" Margin="20,0,0,10" BorderThickness="0"/>
            <Button Content="Playlist" Click="PlaylistButton_Click" Style="{StaticResource {x:Static ToolBar.ButtonStyleKey}}" 
                    Foreground="White" Background="Transparent" FontSize="16" Margin="20,0,0,10" BorderThickness="0"/>
            <Button Content="Đăng xuất" Style="{StaticResource {x:Static ToolBar.ButtonStyleKey}}" 
                    Foreground="#B3B3B3" Background="Transparent" FontSize="14" Margin="20,0,0,10" BorderThickness="0" Click="Login_Click"/>
        </StackPanel>

        <!-- Main Content -->
        <Grid Grid.Column="1" Margin="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header: Add Song & Search -->
            <StackPanel Orientation="Horizontal" Margin="32,24,32,16" Grid.Row="0" VerticalAlignment="Center">
                <TextBox x:Name="YouTubeIdBox" Width="220" Height="36" Margin="0,0,12,0"
                         Background="#222326" Foreground="White" BorderBrush="#333" BorderThickness="1" Padding="10"
                         FontSize="15"  VerticalContentAlignment="Center" />
                <Button Content="Thêm bài hát từ YouTube" Width="160" Height="36" Click="AddTrack_Click"
                        Background="#1DB954" Foreground="White" FontWeight="Bold" BorderThickness="0" FontSize="15" Margin="0,0,24,0"/>
                <TextBox x:Name="SearchBox" Width="220" Height="36" Margin="0,0,8,0"
                         Background="#222326" Foreground="White" BorderBrush="#333" BorderThickness="1" Padding="10"
                         FontSize="15" VerticalContentAlignment="Center" KeyDown="SearchBox_KeyDown" />
                <Button Content="Tìm kiếm" Width="100" Height="36" Click="Search_Click"
                        Background="#404040" Foreground="White" FontWeight="Bold" BorderThickness="0" FontSize="15"/>
            </StackPanel>

            <!-- Song List -->
            <Border Grid.Row="1" Margin="32,0,32,0" Background="#222326" CornerRadius="12">
                <ListView x:Name="TrackListView" Background="Transparent" Foreground="White"
                          BorderThickness="0" FontSize="15" SelectionMode="Single">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="Tên bài hát" Width="260" DisplayMemberBinding="{Binding Title}"/>
                            <GridViewColumn Header="YouTube ID" Width="140" DisplayMemberBinding="{Binding YouTubeId}"/>
                            <GridViewColumn Header="Album" Width="140" DisplayMemberBinding="{Binding Album}"/>
                            <GridViewColumn Header="Nghệ sĩ" Width="140" DisplayMemberBinding="{Binding Artist.Name}"/>
                        </GridView>
                    </ListView.View>
                </ListView>
            </Border>
        </Grid>
    </Grid>
</Page>
